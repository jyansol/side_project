<!DOCTYPE html>
<html lang="ko-KR">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/profile.css">
    <title>Document</title>
  </head>

  <body>
    <div class="container">

      <div class="inputContainer">
        <input type="text" placeholder="GitHub ID를 입력하세요." autofocus="" class="userIdVal">
        <button class="btn">Click!</button>
      </div>
      <ul class="profile">
        <img src="" alt="profileImg" class="avatar">
        <li class="name">name</li>
        <li class="githubUrl">githubUrl</li>
        <!-- <li class="location">location</li> -->
        <!-- location 버그 -->
        <li class="email">email</li>
        <li class="followers">followers</li>
      </ul>
    </div>
    <script>
      const userIdVal = document.querySelector('.userIdVal');
      let userId;
      let infos = {};

      const avatar = document.querySelector('.avatar');
      const name = document.querySelector('.name');
      const githubUrl = document.querySelector('.githubUrl');
      const email = document.querySelector('.email');
      const followers = document.querySelector('.followers');
      const btn = document.querySelector('.btn');


      const githubInfoView = () => {
        const userUrl = infos.avatar_url;
        const avatarPic = document.querySelector('.avatar').setAttribute('src', userUrl);

        userId = userIdVal.value;
        let github = `https://api.github.com/users/${userId}`;

        fetch(github)
          .then(blob => blob.json())
          .then(data => infos = data);
        console.log(github);
        name.textContent = infos.name;
        // githubUrl.textContent = infos.name;
        // name.textContent = infos.name;
        // name.textContent = infos.name;
      }
      btn.addEventListener('click', githubInfoView);


      // window.onload = function() {
      //   const userName = infos.id;
      //   const userUrl = infos.avatar_url;
      //   console.log(infos);
      //   console.log(infos.name);

      //   let avatarPic = document.querySelector('.avatar').setAttribute('src', userUrl);



      //   avatar.textContent = avatarUrl;
      //   avatar.textContent = infos.name;
      //   avatar.textContent = infos.name;
      //   avatar.textContent = infos.name;

      // }




    </script>
  </body>

</html>